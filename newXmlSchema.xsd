<?xml version="1.0"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.imr.no/formats/nmdreference/v1" targetNamespace="http://www.imr.no/formats/nmdreference/v1" elementFormDefault="qualified" version="1.0">

    <!-- Root elements -->
    <xs:element name="acousticCategoryList" type="acousticCategoryListType" />

    <xs:element name="equipmentList" type="equipmentListType" />

    <!--
        Lists elements
    -->
    <xs:complexType name="acousticCategoryListType">
        <xs:sequence>
            <xs:element name="acousticCategoryElement" type="acousticCategoryElementType" minOccurs="0" maxOccurs="unbounded" />
        </xs:sequence>
        <xs:attribute name="name" type="xs:string" use="required"/>
        <xs:attribute name="lastchanged" type="xs:dateTime" use="required"/>
    </xs:complexType>

    <xs:complexType name="equipmentListType">
        <xs:sequence>
            <xs:element name="equipmentElement" type="equipmentElementType" minOccurs="0" maxOccurs="unbounded" />
        </xs:sequence>
        <xs:attribute name="name" type="xs:string" use="required"/>
        <xs:attribute name="lastchanged" type="xs:dateTime" use="required"/>
    </xs:complexType>

    <xs:complexType name="equipmentListType">
        <xs:sequence>
            <xs:element name="taxaElement" type="taxaElementType" minOccurs="0" maxOccurs="unbounded" />
        </xs:sequence>
        <xs:attribute name="name" type="xs:string" use="required"/>
        <xs:attribute name="lastchanged" type="xs:dateTime" use="required"/>
    </xs:complexType>



    <!--
            Reference mÃ¥ inneholde en eller flere referenceList elementer
    -->
    <xs:complexType name="referenceType">
        <xs:sequence>
            <xs:element name="referenceList" type="referenceListType" minOccurs="0" maxOccurs="unbounded" />
        </xs:sequence>
    </xs:complexType>
    <!--
            ReferenceList må inneholde en eller flere referenceListelement Elementer
    -->
    <xs:complexType name="referenceListType">
        <xs:choice minOccurs="1" maxOccurs="1">
            <xs:element name="languageElement" type="languageElementType" />
            <xs:element name="missionTypeElement" type="missionTypeElementType" />
            <xs:element name="nationElement" type="nationElementType" />
            <xs:element name="listElement" type="ListElementType" />
            <xs:element name="platformCodeSysElement" type="platformCodeSysElementType" />
            <xs:element name="platformElement" type="platformElementType" />
            <xs:element name="platformTypeElement" type="platformTypeElementType" />
            <xs:element name="seaAreasListElement" type="seaAreasElementType" />
        </xs:choice>
        <xs:attribute name="name" type="xs:string" use="required"/>
        <xs:attribute name="uuid" type="xs:string"/>
    </xs:complexType>



    <!--
        Acoustic category list element.
    -->
    <xs:complexType name="acousticCategoryElementType">
        <xs:attribute name="initials" type="xs:string"/>
        <xs:attribute name="englishInitials" type="xs:string"/>
        <xs:attribute name="commonName" type="xs:string"/>
        <xs:attribute name="englishName" type="xs:string"/>
        <xs:attribute name="pgnapescode" type="xs:string"/>
        <xs:attribute name="acousticcategory" type="xs:int"/>
    </xs:complexType>

    <!-- Equipment type element -->
    <xs:complexType name="databaseElementType">
        <xs:attribute name="name" type="xs:string"/>
        <xs:attribute name="description" type="xs:string"/>
        <xs:attribute name="shortname" type="xs:string"/>
    </xs:complexType>

    <!-- Equipment type element -->
    <xs:complexType name="equipmentElementType">
        <xs:attribute name="code" type="xs:int"/>
        <xs:attribute name="name" type="xs:string"/>
        <xs:attribute name="area" type="xs:decimal"/>
        <xs:attribute name="description" type="xs:string"/>
    </xs:complexType>

    <xs:complexType name="eventtypeElementType">
        <xs:sequence>
            <xs:element name="database" type="databaseElementTypeRef" />
        </xs:sequence>
        <xs:attribute name="code" type="xs:int" />
        <xs:attribute name="name" type="xs:string" />
        <xs:attribute name="description" type="xs:string" />
    </xs:complexType>

    <!-- Institution element type -->
    <xs:complexType name="institutionElementType">
        <xs:sequence>
            <xs:element name="nation" type="nationElementTypeRef" />
        </xs:sequence>
        <xs:attribute name="institution" type="xs:int" />
        <xs:attribute name="name" type="xs:string" />
        <xs:attribute name="adress" type="xs:string" />
        <xs:attribute name="phone" type="xs:string" />
        <xs:attribute name="email" type="xs:string" />
    </xs:complexType>

    <!-- Language element type -->
    <xs:complexType name="languageElementType">
        <xs:attribute name="name" type="xs:string"/>
        <xs:attribute name="iso6391" type="xs:string"/>
    </xs:complexType>

    <!-- Missiontype element type -->
    <xs:complexType name="missionTypeElementType">
        <xs:attribute name="code" type="xs:int" />
        <xs:attribute name="description" type="xs:string" />
    </xs:complexType>

    <!-- Nation element type -->
    <xs:complexType name="nationElementType">
        <xs:attribute name="nation" type="xs:int"/>
        <xs:attribute name="nationioc" type="xs:string"/>
        <xs:attribute name="nationname" type="xs:string"/>
        <xs:attribute name="lastEdited" type="xs:dateTime"/>
        <xs:attribute name="pgnapescode" type="xs:string"/>
    </xs:complexType>

    <!-- PlatformType type element -->
    <xs:complexType name="platformTypeElementType">
        <xs:attribute name="uuid" type="xs:string"/>
        <xs:attribute name="type" type="xs:int"/>
        <xs:attribute name="subtype" type="xs:int"/>
        <xs:attribute name="typeName" type="xs:string"/>
        <xs:attribute name="subtypeName" type="xs:string"/>
    </xs:complexType>

    <!-- Types of codes used for platforms element type -->
    <xs:complexType name="platformCodeSysElementType">
        <xs:attribute name="code" type="xs:int"/>
        <xs:attribute name="name" type="xs:string"/>
    </xs:complexType>

    <!-- Platform element type -->
    <xs:complexType name="platformElementType">
        <xs:sequence>
            <xs:element name="nation" type="nationElementType" />
            <xs:element name="institution" type="institutionElementType" />
            <xs:element name="platformType" type="platformTypeElementType" />
            <xs:element name="platformCodes" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="platformCode" minOccurs="1" maxOccurs="unbounded">
                            <xs:complexType>
                                <xs:attribute name="validFrom" type="xs:dateTime" />
                                <xs:attribute name="validTo" type="xs:dateTime" />
                                <xs:attribute name="platformCode" type="xs:string" />
                                <xs:attribute name="sysCode" type="xs:int" />
                                <xs:attribute name="sysName" type="xs:string" />
                            </xs:complexType>
                        </xs:element>
                    </xs:sequence>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
        <xs:attribute name="platform" type="xs:int" />
    </xs:complexType>

    <xs:complexType name="platformElementTypeRef">
        <xs:attribute name="url" type="xs:anyURI" />
        <xs:attribute name="code" type="xs:int" />
    </xs:complexType>

    <!-- Taxa element type -->
    <xs:complexType name="taxaElementType">
        <xs:sequence>
            <xs:element name="taxaSynonyms" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="synonym" minOccurs="1" maxOccurs="unbounded">
                            <xs:complexType>
                                <xs:sequence>
                                    <xs:element name="languageElementRef" type="languageElementTypeRef" />
                                </xs:sequence>
                                <xs:attribute name="name" type="xs:string" />
                                <xs:attribute name="preferred" type="xs:int" />
                            </xs:complexType>
                        </xs:element>
                    </xs:sequence>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
        <xs:attribute name="tsn" type="xs:int"/>
        <xs:attribute name="aphiaid" type="xs:string"/>
        <xs:attribute name="imr" type="xs:int"/>
        <xs:attribute name="path" type="xs:string"/>
        <xs:attribute name="nodc" type="xs:string"/>
        <xs:attribute name="fao" type="xs:string"/>
        <xs:attribute name="information" type="xs:string"/>
        <xs:attribute name="pgnapes" type="xs:string"/>
        <xs:attribute name="ruCode" type="xs:int"/>
    </xs:complexType>

    <!-- trackMeasurementCodeElementType -->
    <xs:complexType name="trackMeasurementCodeElementType">
        <xs:attribute name="code" type="xs:int" />
        <xs:attribute name="name" type="xs:string" />
        <xs:attribute name="description" type="xs:string" />
    </xs:complexType>

    <!--
        Standard UDP list element.
    -->
    <xs:complexType name="ListElementType">
        <xs:attribute name="shortname" type="xs:string"/>
        <xs:attribute name="name" type="xs:string"/>
        <xs:attribute name="description" type="xs:string"/>
        <xs:attribute name="validFrom" type="xs:dateTime"/>
        <xs:attribute name="validTo" type="xs:dateTime"/>
    </xs:complexType>

    <!-- Sea areas element type -->
    <xs:complexType name="seaAreasElementType">
        <xs:attribute name="name" type="xs:string" />
        <xs:attribute name="description" type="xs:string" />
    </xs:complexType>


</xs:schema>